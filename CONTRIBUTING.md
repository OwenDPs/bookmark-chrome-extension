# Bookmark Manager Chrome Extension - 贡献指南

感谢您对 Bookmark Manager Chrome Extension 项目的关注！我们欢迎所有形式的贡献，包括但不限于代码贡献、问题报告、功能建议和文档改进。

## 目录

1. [行为准则](#行为准则)
2. [如何贡献](#如何贡献)
3. [开发流程](#开发流程)
4. [代码规范](#代码规范)
5. [提交规范](#提交规范)
6. [问题报告](#问题报告)
7. [功能请求](#功能请求)

## 行为准则

### 我们的承诺

为了营造开放和友好的环境，我们作为贡献者和维护者承诺，无论年龄、体型、身体健全、种族、民族特征、性别认同和表达、经验水平、教育程度、社会地位、国籍、外貌、种族、宗教或性取向如何，我们都将友好和包容地对待任何人。

### 我们的标准

有助于创造积极环境的行为包括：

* 使用友好和包容的语言
* 尊重不同的观点和经验
* 优雅地接受建设性批评
* 关注对社区最有利的事情
* 友善对待其他社区成员

不当行为包括：

* 使用与性有关的语言或图像，以及不受欢迎的性骚扰
* 发表侮辱性/贬损性评论，以及人身攻击或政治攻击
* 公开或私下的骚扰
* 未经明确许可，发布他人的私人信息，如物理或电子地址
* 其他可以被合理地确定为不适当或违反专业道德的行为

### 我们的责任

项目维护者有责任为可接受的行为标准做出解释，并针对已发生的不当行为采取适当和公平的纠正措施。

项目维护者有权利和责任删除、编辑或拒绝与不符合本行为准则的评论、提交、问题和其他贡献，项目维护者可暂时或永久地禁止任何他们认为行为不当、威胁、冒犯、有害的贡献者。

## 如何贡献

### 报告问题

如果您发现了项目中的错误或有改进建议，请通过以下方式报告：

1. 访问项目的 [Issues 页面](https://github.com/your-username/bookmark-chrome-extension/issues)
2. 点击 "New Issue" 按钮
3. 选择适当的问题模板（Bug Report 或 Feature Request）
4. 填写必要的信息并提交

### 提交代码

如果您想直接贡献代码，请按照以下步骤操作：

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 进行更改并提交 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

### 改进文档

文档改进同样重要！如果您发现文档中有错误、不清楚或缺失的部分，请：

1. Fork 项目
2. 创建文档改进分支 (`git checkout -b docs/improve-documentation`)
3. 进行更改并提交 (`git commit -m 'Fix documentation for XYZ'`)
4. 推送到分支 (`git push origin docs/improve-documentation`)
5. 创建 Pull Request

## 开发流程

### 设置开发环境

1. **克隆项目**
   ```bash
   git clone https://github.com/your-username/bookmark-chrome-extension.git
   cd bookmark-chrome-extension
   ```

2. **安装依赖**
   ```bash
   # 安装 Chrome 扩展依赖（如果有）
   cd extension
   npm install
   
   # 安装 Worker 依赖
   cd ../worker
   npm install
   ```

3. **设置 Cloudflare Worker**
   ```bash
   # 登录 Cloudflare
   wrangler login
   
   # 创建 D1 数据库
   wrangler d1 create BOOKMARK_DB_DEV
   
   # 更新 wrangler.toml 中的数据库 ID
   
   # 运行数据库迁移
   npm run migrate
   ```

4. **启动开发服务器**
   ```bash
   # 启动 Worker 开发服务器
   npm run dev
   ```

5. **加载扩展**
   - 打开 Chrome 浏览器，访问 `chrome://extensions/`
   - 启用"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择 `extension` 文件夹

### 代码结构

项目的主要代码结构如下：

```
bookmark-chrome-extension/
├── extension/          # Chrome 扩展源代码
│   ├── popup/         # 弹出窗口界面
│   ├── options/       # 选项页面
│   ├── background/    # 后台脚本
│   ├── content/       # 内容脚本
│   ├── config/        # 配置文件
│   └── assets/        # 静态资源
├── worker/            # Cloudflare Worker 源代码
│   ├── src/           # 源代码
│   └── migrations/    # D1 数据库迁移文件
└── docs/              # 文档
```

### 测试

在提交代码之前，请确保：

1. 所有功能都经过测试
2. 代码符合项目的代码规范
3. 没有引入新的安全问题
4. 文档已相应更新

## 代码规范

### JavaScript 代码规范

我们遵循标准的 JavaScript 代码规范，包括：

1. **变量命名**
   - 使用有意义的变量名
   - 使用驼峰命名法（camelCase）
   - 常量使用全大写和下划线（UPPER_SNAKE_CASE）

2. **函数命名**
   - 使用动词或动词短语
   - 使用驼峰命名法
   - 私有函数以下划线开头

3. **代码格式**
   - 使用 2 个空格缩进
   - 使用单引号
   - 在语句末尾使用分号
   - 在操作符周围使用空格

4. **注释**
   - 为复杂的逻辑添加注释
   - 使用英语编写注释
   - 保持注释简洁明了

### CSS 代码规范

1. **类名命名**
   - 使用有意义的类名
   - 使用连字符命名法（kebab-case）
   - 避免使用过于通用的类名

2. **代码组织**
   - 按功能模块组织代码
   - 使用注释分隔不同的部分
   - 保持代码结构清晰

### HTML 代码规范

1. **代码结构**
   - 使用语义化的 HTML 标签
   - 保持适当的缩进
   - 避免内联样式和脚本

2. **属性**
   - 使用双引号包裹属性值
   - 省略布尔属性的值
   - 保持属性顺序一致

## 提交规范

### 提交消息格式

我们使用以下提交消息格式：

```
<类型>(<范围>): <描述>

[可选的详细描述]

[可选的脚注]
```

### 类型

类型必须是以下之一：

* **feat**: 新功能
* **fix**: 修复错误
* **docs**: 仅文档更改
* **style**: 不影响代码含义的更改（空格、格式等）
* **refactor**: 既不是修复错误也不是添加功能的代码更改
* **perf**: 性能优化
* **test**: 添加缺失的测试或修正现有测试
* **chore**: 对构建过程或辅助工具的更改

### 范围

范围指明提交影响的代码部分，例如：

* **extension**: Chrome 扩展
* **worker**: Cloudflare Worker
* **docs**: 文档
* **config**: 配置文件

### 描述

描述是对更改的简短描述，使用现在时态，祈使语气，例如：

* "添加用户登录功能" 而不是 "添加了用户登录功能"
* "修复收藏夹列表显示问题" 而不是 "修复了收藏夹列表显示问题"

### 示例

```
feat(extension): 添加用户登录功能

实现用户登录功能，包括：
- 登录表单验证
- JWT 令牌处理
- 错误处理

Closes #123
```

```
fix(worker): 修复收藏夹创建时的空标题问题

添加标题验证，确保收藏夹标题不为空。
更新错误消息，提供更明确的反馈。

Closes #124
```

## 问题报告

### 报告错误

当报告错误时，请提供以下信息：

1. **错误描述**
   - 清晰描述遇到的问题
   - 描述预期的行为
   - 描述实际的行为

2. **复现步骤**
   - 提供详细的复现步骤
   - 包括所有必要的设置和配置

3. **环境信息**
   - 操作系统和版本
   - Chrome 浏览器版本
   - 扩展版本

4. **其他信息**
   - 错误日志
   - 截图
   - 其他相关信息

### 功能请求

当提出功能请求时，请提供以下信息：

1. **功能描述**
   - 清晰描述请求的功能
   - 解释为什么这个功能是有用的
   - 描述预期的行为

2. **用例**
   - 描述功能的使用场景
   - 提供具体的例子

3. **替代方案**
   - 描述您已经考虑过的替代方案
   - 解释为什么这些替代方案不够好

4. **其他信息**
   - 截图
   - 原型
   - 其他相关信息